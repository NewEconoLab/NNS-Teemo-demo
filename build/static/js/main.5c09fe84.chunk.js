(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,a){e.exports=a(238)},192:function(e,t,a){},193:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var n,r,s,o,i,c,l,u,p,d,m,h,f,g,v,k,b,y,S,w,O,E=a(0),N=a.n(E),x=a(5),T=a.n(x),D=a(16),C=a(8),j=a.n(C),I=a(12),A=a(20),H=a(19),R=a(25),_=a(15),B=(a(148),a(11)),W=a(252),J=(n=function(){function e(){var t=this;Object(H.a)(this,e),Object(A.a)(this,"isTeemoReady",r,this),Object(A.a)(this,"isConnected",s,this),Object(A.a)(this,"auctionMinPerDay",o,this),Object(A.a)(this,"network",i,this),Object(A.a)(this,"address",c,this),Object(A.a)(this,"nns",l,this),Object(A.a)(this,"updateAddress",u,this),Object(A.a)(this,"updateNetwork",p,this),Object(A.a)(this,"updateNNS",d,this),this.updateLastWSmsgSec=function(){t.lastWSmsgSec=((new Date).getTime()-t.lastWSmsgTime)/1e3,t.lastWSmsgSec>75&&(t.lastWSmsgTime=(new Date).getTime(),t.lastWSmsgSec=0,t.socketInit()),t.socket&&(t.socketReadyState=t.socket.readyState)},this.socket=void 0,this.time=(new Date).getTime(),Object(A.a)(this,"socketReadyState",m,this),Object(A.a)(this,"socketMsgs",h,this),Object(A.a)(this,"blockDatas",f,this),Object(A.a)(this,"lastBlockTime",g,this),Object(A.a)(this,"lastWSmsgTime",v,this),Object(A.a)(this,"lastWSmsgSec",k,this),Object(A.a)(this,"txids",b,this),Object(A.a)(this,"addTxidSended",y,this),this.pushEvent=function(e,t){var a=new CustomEvent(e,{detail:t});window.dispatchEvent(a)},this.getDelay=function(e){return parseInt(((new Date).getTime()/1e3-e).toFixed(0))+"s"},Object(A.a)(this,"socketInit",S,this),Object(A.a)(this,"init",w,this),this.init(),setInterval(this.updateLastWSmsgSec,1e3)}return Object(R.a)(e,[{key:"updateAuctionMinPerDay",value:function(e){this.auctionMinPerDay=e}},{key:"nns_auction_hash",get:function(){return 5==this.auctionMinPerDay?"5fd8c2aed0eec0fa103f6fba16748b453baf5b2e":"4c7cca112a8c5666bce5da373010fc0920d0e0d2"}},{key:"scriptHash",get:function(){return{nns_domaincenter:"348387116c4a75e420663277d9c02049907128c7",nns_resolver:"6e2aea28af9c5febea0774759b1b76398e3167f1",nns_auction:this.nns_auction_hash,nns_credit:"960b41a05588d2f55acbc13a1e3aa464eec6fff5",NEP_5_CGAS:"74f2dc36a68fdc4682034178eb2220729231db76",NEP_5_NNC:"fc732edee1efdf968c23c20a9628eaa5a6ccb934",NFT_test_O3Foundry:"7fe1d36ed60846975e70ec8b6fc0bef08b033107",NFT_test_HashPuppies:"e7b2046b2412c4c7f1531ce144a73d47c3b272fe"}}},{key:"rpcUrl",get:function(){return"MainNet"==this.network?"https://seed.nel.group:10331":"https://test.nel.group:20331"}},{key:"webSocketURL",get:function(){return"MainNet"==this.network?"wss://testws.nel.group/ws/mainnet":"wss://testws.nel.group/ws/testnet"}}]),e}(),r=Object(_.a)(n.prototype,"isTeemoReady",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=Object(_.a)(n.prototype,"isConnected",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),o=Object(_.a)(n.prototype,"auctionMinPerDay",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),Object(_.a)(n.prototype,"updateAuctionMinPerDay",[B.d],Object.getOwnPropertyDescriptor(n.prototype,"updateAuctionMinPerDay"),n.prototype),Object(_.a)(n.prototype,"nns_auction_hash",[B.e],Object.getOwnPropertyDescriptor(n.prototype,"nns_auction_hash"),n.prototype),Object(_.a)(n.prototype,"scriptHash",[B.e],Object.getOwnPropertyDescriptor(n.prototype,"scriptHash"),n.prototype),i=Object(_.a)(n.prototype,"network",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"TestNet"}}),c=Object(_.a)(n.prototype,"address",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"A**********************"}}),l=Object(_.a)(n.prototype,"nns",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"qmz.test"}}),u=Object(_.a)(n.prototype,"updateAddress",[B.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.address=t}}}),p=Object(_.a)(n.prototype,"updateNetwork",[B.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.network=t}}}),d=Object(_.a)(n.prototype,"updateNNS",[B.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.nns=t}}}),Object(_.a)(n.prototype,"rpcUrl",[B.e],Object.getOwnPropertyDescriptor(n.prototype,"rpcUrl"),n.prototype),Object(_.a)(n.prototype,"webSocketURL",[B.e],Object.getOwnPropertyDescriptor(n.prototype,"webSocketURL"),n.prototype),m=Object(_.a)(n.prototype,"socketReadyState",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),h=Object(_.a)(n.prototype,"socketMsgs",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=Object(_.a)(n.prototype,"blockDatas",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{blockHeight:-1,blockTime:0,blockHash:"",timeDiff:0}]}}),g=Object(_.a)(n.prototype,"lastBlockTime",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=Object(_.a)(n.prototype,"lastWSmsgTime",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(new Date).getTime()}}),k=Object(_.a)(n.prototype,"lastWSmsgSec",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=Object(_.a)(n.prototype,"txids",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=Object(_.a)(n.prototype,"addTxidSended",[B.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.txids.unshift("0x"+t)}}}),S=Object(_.a)(n.prototype,"socketInit",[B.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.socket&&e.socket.close(),e.blockDatas=[{blockHeight:-1,blockTime:0,blockHash:"",timeDiff:0}],e.socket=new WebSocket(e.webSocketURL),e.socket.onclose=function(e){console.log(e),W.a.warning({message:"websocket",description:"close"})},e.socket.onerror=function(e){console.log(e),W.a.error({message:"websocket",description:"error"})},e.socket.onopen=function(t){console.log(t),e.socket.send("Hello Server!"),W.a.success({message:"websocket",description:"open on "+e.webSocketURL})},e.socket.onmessage=function(t){console.log(t),console.log(t.data),e.socketMsgs.unshift(t.data),e.lastWSmsgTime=(new Date).getTime(),e.time=(new Date).getTime();var a=JSON.parse(t.data).data;if(null!=a.blockHeight){var n=-1;e.txids.length>0&&(n=a.tx.findIndex(function(t){return t.txid===e.txids[0]})),W.a.info({message:a.blockHeight,description:"delay: "+e.getDelay(a.blockTime)+"/"+e.getDelay(a.blockInsertTime)+"/"+e.getDelay(a.svrSystemTime)+"||txidIndex:"+n});var r=e.blockDatas;-1==r[0].blockHeight&&r.shift(),r.length>=50&&r.pop();var s=0;r.length>0&&(s=a.blockTime-r[0].blockTime);var o=a;o.timeDiff=s,o.txidIndex=n,o.txCount=a.tx.length,r.unshift(o),e.pushEvent("newBlockEvent",o),e.blockDatas=r,e.lastBlockTime=a.blockTime}}}}}),w=Object(_.a)(n.prototype,"init",[B.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){console.log("this is init"),window.addEventListener("Teemo.NEO.READY",function(){var t=Object(I.a)(j.a.mark(function t(a){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("inject READY "),W.a.success({message:"Teemo",description:"Teemo.NEO.READY"}),e.isTeemoReady=!0,Teemo.NEO.getAccount().then(function(t){console.log("account",t),e.updateAddress(t.address)}).catch(function(t){console.log("account",t),e.isConnected=!1}),t.t0=e,t.next=7,Teemo.NEO.getNetworks();case 7:t.t1=t.sent.defaultNetwork,t.t0.updateNetwork.call(t.t0,t.t1),e.socketInit();case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),window.addEventListener("Teemo.NEO.NETWORK_CHANGED",function(t){console.log("NETWORK_CHANGED"),console.log(t),e.updateNetwork(t.detail.defaultNetwork),e.socketInit()}),window.addEventListener("Teemo.NEO.CONNECTED",function(){var t=Object(I.a)(j.a.mark(function t(a){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("CONNECTED"),console.log(a),W.a.success({message:"Teemo",description:"Teemo.NEO.CONNECTED"}),e.isConnected=!0,e.updateAddress(a.detail.address),t.t0=e,t.next=8,Teemo.NEO.getNetworks();case 8:t.t1=t.sent.defaultNetwork,t.t0.updateNetwork.call(t.t0,t.t1);case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),window.addEventListener("Teemo.NEO.DISCONNECTED",function(t){console.log("DISCONNECTED"),console.log(t),W.a.warning({message:"Teemo",description:"Teemo.NEO.DISCONNECTED"}),e.isConnected=!1,e.updateAddress("A**********************"),e.updateNetwork("TestNet")}),window.addEventListener("Teemo.NEO.ACCOUNT_CHANGED",function(e){console.log("ACCOUNT_CHANGED"),console.log(e),W.a.warning({message:"Teemo",description:"Teemo.NEO.ACCOUNT_CHANGED"})})}}}),n),G=(a(192),a(29)),M=a(27),P=a(30),L=a(37),F=(a(193),a(253)),z=a(247),U=a(10),V=F.a.Header,q=F.a.Content,Y=F.a.Footer,K=F.a.Sider,$=Object(D.c)(O=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(G.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={menuID:1},a.menuClick=function(e){console.log("menu Click",e),a.setState({menuID:e.key})},a}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return N.a.createElement(L.a,null,N.a.createElement(F.a,null,N.a.createElement(K,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)}},N.a.createElement("div",{className:"logo"}),N.a.createElement(z.a,{onClick:this.menuClick,theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},N.a.createElement(z.a.Item,{key:"1"},N.a.createElement(L.b,{to:"/"},N.a.createElement(U.a,{type:"file"}),N.a.createElement("span",{className:"nav-text"},"Default Page"))),N.a.createElement(z.a.Item,{key:"2"},N.a.createElement(L.b,{to:"/nnscenter"},N.a.createElement(U.a,{type:"file"}),N.a.createElement("span",{className:"nav-text"},"NNS Center"))),N.a.createElement(z.a.Item,{key:"3"},N.a.createElement(L.b,{to:"/nnsresolver"},N.a.createElement(U.a,{type:"file"}),N.a.createElement("span",{className:"nav-text"},"NNS resolver"))),N.a.createElement(z.a.Item,{key:"4"},N.a.createElement(L.b,{to:"/nnsauction"},N.a.createElement(U.a,{type:"file"}),N.a.createElement("span",{className:"nav-text"},"NNS Auction"))),N.a.createElement(z.a.Item,{key:"5"},N.a.createElement(L.b,{to:"/nnscredit"},N.a.createElement(U.a,{type:"file"}),N.a.createElement("span",{className:"nav-text"},"NNS Credit"))),N.a.createElement(z.a.Item,{key:"6"},N.a.createElement(L.b,{to:"/nfttest"},N.a.createElement(U.a,{type:"file"}),N.a.createElement("span",{className:"nav-text"},"NFT Test"))))),N.a.createElement(F.a,null,N.a.createElement(V,{style:{background:"#fff",padding:0}},N.a.createElement("h1",null,"--- NNS Teemo Demo ---")),N.a.createElement(q,{style:{margin:"24px 16px 0"}},N.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},this.props.children)),N.a.createElement(Y,{style:{textAlign:"center"}},"NNS \xa92019 Created by NEL"))))}}]),t}(E.Component))||O;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=a(46),X=a(133),Z=a(246),ee=a(241),te=function e(t){var a=this;Object(H.a)(this,e),this.store=void 0,this.getBlock=function(){var e=Object(I.a)(j.a.mark(function e(t){var n,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a.store.rpcUrl+"?jsonrpc=2.0&method=getblock&params=["+t+",1]&id=1",{});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.store=t};te.getAddressFromScriptHash=function(){},te.hexToString=function(e){for(var t="",a=0;a<e.length;a+=2)t+=String.fromCharCode(parseInt(e.substr(a,2),16));return t},te.hex2Int=function(e){return""==e?0:parseInt(te.byte2Hex(te.hex2Byte(e).reverse()),16)},te.hex2TimeStr=function(e){return te.timetrans(parseInt(te.byte2Hex(te.hex2Byte(e).reverse()),16))},te.hexReverse=function(e){return te.byte2Hex(te.hex2Byte(e).reverse())},te.byte2Hex=function(e){if(!e)return"";for(var t="",a=0;a<e.length;a++){var n=(255&e[a]).toString(16);t+=n=1===n.length?"0"+n:n}return t.toLowerCase()},te.hex2Byte=function(e){if(!e)return new Uint8Array;for(var t=[],a=0,n=e.length;a<n;a+=2)t.push(parseInt(e.substr(a,2),16));return new Uint8Array(t)},te.timetrans=function(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())},te.sec2HMS=function(e){var t=0,a=0,n=0;e%3600>0&&(e-=3600*(t=parseInt((e/3600).toString()))),e%60>0&&(e-=60*(a=parseInt((e/60).toString()))),n=e;return t+":"+(a<10?"0"+a:a.toString())+":"+(n<10?"0"+n:n.toString())};var ae,ne,re,se,oe,ie,ce=te,le=function e(t){var a=this;Object(H.a)(this,e),this.store=void 0,this.invokeRead_nameHashArray=void 0,this.namehash=function(){var e=Object(I.a)(j.a.mark(function e(t){var n,r,s,o,i,c,l,u;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n="",a.invokeRead_nameHashArray.arguments[0].value=[],r=!0,s=!1,o=void 0,e.prev=5,i=t.split(".").reverse()[Symbol.iterator]();!(r=(c=i.next()).done);r=!0)l=c.value,a.invokeRead_nameHashArray.arguments[0].value.push({type:"String",value:l});e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),s=!0,o=e.t0;case 13:e.prev=13,e.prev=14,r||null==i.return||i.return();case 16:if(e.prev=16,!s){e.next=19;break}throw o;case 19:return e.finish(16);case 20:return e.finish(13);case 21:return e.next=23,Teemo.NEO.invokeRead(JSON.parse(JSON.stringify(a.invokeRead_nameHashArray)));case 23:return u=e.sent,n=u.stack[0].value,e.abrupt("return",n);case 26:case"end":return e.stop()}},e,null,[[5,9,13,21],[14,,16,20]])}));return function(t){return e.apply(this,arguments)}}(),this.store=t,this.invokeRead_nameHashArray={scriptHash:t.scriptHash.nns_domaincenter,operation:"nameHashArray",arguments:[{type:"Array",value:[]}],network:t.network}},ue=Object(D.b)("store")(ae=Object(D.c)(ae=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(G.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).NNSh=new le(a.props.store),a.state={resData:"{}"},a}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return N.a.createElement(N.a.Fragment,null,N.a.createElement(X.a,{tip:"\u8fde\u63a5Teemo\u2026\u2026",spinning:!this.props.store.isTeemoReady},N.a.createElement("p",null,"Default Page"),N.a.createElement("p",null,this.props.store.address),N.a.createElement("p",null,this.props.store.network,"||",this.props.store.rpcUrl,"||",this.props.store.webSocketURL,"||isConnected:",this.props.store.isConnected.toString(),"||",this.props.store.nns),N.a.createElement("pre",null,JSON.stringify(this.props.store.scriptHash,null,2)),N.a.createElement("div",null,N.a.createElement("div",{className:"demo-loading-container"},N.a.createElement(X.a,null),N.a.createElement("p",null,"LastWSmsg: ",this.props.store.lastWSmsgSec,"s"),N.a.createElement("p",null,"LastBlockTime: ",ce.timetrans(this.props.store.lastBlockTime),"(before ",ce.sec2HMS(parseInt(((new Date).getTime()/1e3-this.props.store.lastBlockTime).toFixed(0))),")")),N.a.createElement(Z.a,{bordered:!0,dataSource:this.props.store.blockDatas,pagination:{onChange:function(e){console.log(e)},pageSize:5},renderItem:function(e){return N.a.createElement(Z.a.Item,{key:e.id},N.a.createElement(Z.a.Item.Meta,{avatar:N.a.createElement(ee.a,{src:"https://neo-cdn.azureedge.net/images/favicon.png"}),title:e.blockHeight,description:e.blockHash+" tx:"+e.txCount}),N.a.createElement("div",null,"(",e.timeDiff+"s",")",ce.timetrans(e.blockTime)))}}))))}}]),t}(N.a.Component))||ae)||ae,pe=a(248),de=a(79),me=Object(D.b)("store")(ne=Object(D.c)(ne=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(G.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={resData:"{}"},a.butGetInvokeReadClick=function(){var e=Object(I.a)(j.a.mark(function e(t){var n,r,s,o;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a.props.store.scriptHash.nns_domaincenter,e.next=3,new le(a.props.store).namehash(a.props.store.nns);case 3:return e.t1=e.sent,e.t2={type:"ByteArray",value:e.t1},e.t3=[e.t2],e.t4=a.props.store.network,n={scriptHash:e.t0,operation:"getOwnerInfo",arguments:e.t3,network:e.t4},e.next=10,Teemo.NEO.invokeRead(JSON.parse(JSON.stringify(n)));case 10:if(r=e.sent,s=r.stack[0].value,(o={owner:s[0].value,register:s[1].value,resolver:s[2].value,TTL:s[3].value,parentOwner:s[4].value,domain:s[5].value,parenthash:s[6].value,root:s[7].value}).domain=ce.hexToString(o.domain),o.TTL=ce.hex2TimeStr(o.TTL),""==o.owner){e.next=19;break}return e.next=18,Teemo.NEO.getAddressFromScriptHash(ce.byte2Hex(ce.hex2Byte(o.owner).reverse()));case 18:o.owner=e.sent;case 19:a.setState({resData:JSON.stringify(o,null,2)});case 20:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(P.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return N.a.createElement(N.a.Fragment,null,N.a.createElement("p",null,"NNS Domain Center"),N.a.createElement(pe.a,{placeholder:"\u8f93\u5165NSS\u57df\u540d",onChange:function(t){e.props.store.updateNNS(t.target.value)},defaultValue:this.props.store.nns}),N.a.createElement(de.a,{onClick:this.butGetInvokeReadClick,type:"primary"},"\u83b7\u53d6NNS\u6240\u6709\u8005\u4fe1\u606f"),N.a.createElement("pre",null,this.state.resData))}}]),t}(N.a.Component))||ne)||ne,he=Object(D.b)("store")(re=Object(D.c)(re=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(G.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={resData:"{}"},a.butGetInvokeReadClick=function(){var e=Object(I.a)(j.a.mark(function e(t){var n,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a.props.store.scriptHash.nns_resolver,e.t1={type:"String",value:"addr"},e.next=4,new le(a.props.store).namehash(a.props.store.nns);case 4:return e.t2=e.sent,e.t3={type:"ByteArray",value:e.t2},e.t4=[e.t1,e.t3],e.t5=a.props.store.network,n={scriptHash:e.t0,operation:"resolve",arguments:e.t4,network:e.t5},e.next=11,Teemo.NEO.invokeRead(JSON.parse(JSON.stringify(n)));case 11:r=e.sent,a.setState({resData:""==ce.hexToString(r.stack[0].value)?"\u672a\u6620\u5c04":ce.hexToString(r.stack[0].value)});case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(P.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return N.a.createElement(N.a.Fragment,null,N.a.createElement("p",null,"NNS Resolver"),N.a.createElement(pe.a,{placeholder:"\u8f93\u5165NSS\u57df\u540d",onChange:function(t){e.props.store.updateNNS(t.target.value)},defaultValue:this.props.store.nns}),N.a.createElement(de.a,{onClick:this.butGetInvokeReadClick,type:"primary"},"\u89e3\u6790NNS"),N.a.createElement("pre",null,this.state.resData))}}]),t}(N.a.Component))||re)||re,fe=a(242),ge=a(243),ve=a(244),ke=a(245),be=a(249),ye=a(250),Se=a(251),we=a(254),Oe=Object(D.b)("store")(se=Object(D.c)(se=function(e){function t(e){var a;return Object(H.a)(this,t),(a=Object(G.a)(this,Object(M.a)(t).call(this,e))).nnsInput=void 0,a.state={resDataRead:"{}",reqDataWrite:"{}",resDataWrite:"{}",inputAmount:0,loadingR:!0,loadingW:!1,CGASBalance:0,auctionBalance:0,bidBalance:0,auctionDay:0,auctionStateInfo:{id:"",auctionStarter:"",parenthash:"",domain:"",domainTTL:"",startBlockSelling:0,endBlock:"",maxPrice:"",maxBuyer:"",lastBlock:""},CGASopValue:0,drawerVisible:!1},a.intervalID=void 0,a.doOnEvent=function(e){console.log("newBlockEvent",e),e.detail.txidIndex>-1&&a.getInvokeRead_getBanlance()},a.calcAuctionDay=function(){var e=Object(I.a)(j.a.mark(function e(t){var n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new ce(a.props.store).getBlock(t);case 2:return n=e.sent.result.time,e.abrupt("return",((new Date).getTime()/1e3-n)/60/a.props.store.auctionMinPerDay);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getInvokeRead_getBanlance=Object(I.a)(j.a.mark(function e(){var t,n,r,s,o,i,c,l,u;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={scriptHash:a.props.store.scriptHash.NEP_5_CGAS,operation:"balanceOf",arguments:[{type:"Address",value:a.props.store.address}],network:a.props.store.network},n={scriptHash:a.props.store.scriptHash.nns_auction,operation:"balanceOf",arguments:[{type:"Address",value:a.props.store.address}],network:a.props.store.network},e.t0=a.props.store.scriptHash.nns_auction,e.next=5,new le(a.props.store).namehash(a.props.store.nns);case 5:return e.t1=e.sent,e.t2={type:"ByteArray",value:e.t1},e.t3=[e.t2],e.t4=a.props.store.network,r={scriptHash:e.t0,operation:"getAuctionStateByFullhash",arguments:e.t3,network:e.t4},s={scriptHash:a.props.store.scriptHash.nns_auction,operation:"balanceOfBid",arguments:[{type:"Address",value:a.props.store.address},{type:"ByteArray",value:""}],network:a.props.store.network},(o={group:[{}]}).group.pop(),o.group.push(t),o.group.push(n),o.group.push(r),e.next=18,Teemo.NEO.invokeReadGroup(JSON.parse(JSON.stringify(o)));case 18:if(null==(i=e.sent).stack[0]){e.next=49;break}return c=i.stack[2].value,l={id:c[0].value,auctionStarter:c[1].value,parenthash:c[2].value,domain:c[3].value,domainTTL:c[4].value,startBlockSelling:c[5].value,endBlock:c[6].value,maxPrice:c[7].value,maxBuyer:c[8].value,lastBlock:c[9].value},e.next=24,Teemo.NEO.getAddressFromScriptHash(ce.hexReverse(l.auctionStarter));case 24:if(l.auctionStarter=e.sent,l.domain=ce.hexToString(l.domain),l.domainTTL=ce.hex2TimeStr(l.domainTTL),l.maxPrice=l.maxPrice/Math.pow(10,8),""==l.maxBuyer){e.next=32;break}return e.next=31,Teemo.NEO.getAddressFromScriptHash(ce.hexReverse(l.maxBuyer));case 31:l.maxBuyer=e.sent;case 32:return s.arguments[1].value=l.id,e.next=35,Teemo.NEO.invokeRead(JSON.parse(JSON.stringify(s)));case 35:return u=e.sent,e.t5=a,e.t6=ce.hex2Int(i.stack[0].value)/Math.pow(10,8),e.t7=ce.hex2Int(i.stack[1].value)/Math.pow(10,8),e.t8=ce.hex2Int(u.stack[0].value)/Math.pow(10,8),e.t9=l,e.next=43,a.calcAuctionDay(l.startBlockSelling);case 43:e.t10=e.sent,e.t11=JSON.stringify(l,null,2),e.t12={CGASBalance:e.t6,auctionBalance:e.t7,bidBalance:e.t8,auctionStateInfo:e.t9,auctionDay:e.t10,resDataRead:e.t11,loadingR:!1},e.t5.setState.call(e.t5,e.t12),e.next=50;break;case 49:a.setState({resDataRead:"\u67e5\u8be2\u5f02\u5e38",loadingR:!1});case 50:case"end":return e.stop()}},e)})),a.butGetInvokeReadClick=function(){var e=Object(I.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.getInvokeRead_getBanlance();case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.butInvoke_doCGASin_click=Object(I.a)(j.a.mark(function e(){var t,n,r,s;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a.props.store.scriptHash.NEP_5_CGAS,e.t1={type:"Address",value:a.props.store.address},e.next=4,Teemo.NEO.getAddressFromScriptHash(a.props.store.scriptHash.nns_auction);case 4:return e.t2=e.sent,e.t3={type:"Address",value:e.t2},e.t4={type:"Integer",value:a.state.CGASopValue*Math.pow(10,8)},e.t5=[e.t1,e.t3,e.t4],e.t6=a.props.store.network,t={scriptHash:e.t0,operation:"transfer",arguments:e.t5,fee:"0",description:"NNS\u7ade\u62cd\u5145\u503cCGAS\u8f6c\u8d26",network:e.t6},n={scriptHash:a.props.store.scriptHash.nns_auction,operation:"setmoneyin",arguments:[{type:"Hook_Txid",value:0}],fee:"0",description:"NNS\u7ade\u62cd\u5145\u503c\u786e\u8ba4",network:a.props.store.network},(r={merge:!0,group:[{}]}).group.pop(),r.group.push(t),r.group.push(n),a.setState({loadingW:!0}),e.next=18,Teemo.NEO.invokeGroup(JSON.parse(JSON.stringify(r)));case 18:(s=e.sent).forEach(function(e){a.props.store.addTxidSended(e.txid)}),a.setState({reqDataWrite:JSON.stringify(r,null,2),resDataWrite:JSON.stringify(s,null,2),loadingW:!1,loadingR:!0});case 21:case"end":return e.stop()}},e)})),a.butInvoke_doCGASout_click=Object(I.a)(j.a.mark(function e(){var t,n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={scriptHash:a.props.store.scriptHash.nns_auction,operation:"getmoneyback",arguments:[{type:"Address",value:a.props.store.address},{type:"Integer",value:a.state.CGASopValue*Math.pow(10,8)}],fee:"0",description:"NNS\u7ade\u62cdCGAS\u63d0\u53d6",network:a.props.store.network},a.setState({loadingW:!0}),e.next=4,Teemo.NEO.invoke(JSON.parse(JSON.stringify(t)));case 4:n=e.sent,a.props.store.addTxidSended(n.txid),a.setState({reqDataWrite:JSON.stringify(t,null,2),resDataWrite:JSON.stringify(n,null,2),loadingW:!1,loadingR:!0});case 7:case"end":return e.stop()}},e)})),a.butInvoke_doStartAuction_click=Object(I.a)(j.a.mark(function e(){var t,n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a.props.store.scriptHash.nns_auction,e.t1={type:"Address",value:a.props.store.address},e.next=4,new le(a.props.store).namehash(a.props.store.nns.split(".")[1]);case 4:return e.t2=e.sent,e.t3={type:"ByteArray",value:e.t2},e.t4={type:"String",value:a.props.store.nns.split(".")[0]},e.t5=[e.t1,e.t3,e.t4],e.t6=a.props.store.network,t={scriptHash:e.t0,operation:"startAuction",arguments:e.t5,fee:"0",description:"NNS\u7ade\u62cd\u5f00\u6807",network:e.t6},a.setState({loadingW:!0}),e.next=13,Teemo.NEO.invoke(JSON.parse(JSON.stringify(t)));case 13:n=e.sent,a.props.store.addTxidSended(n.txid),a.setState({reqDataWrite:JSON.stringify(t,null,2),resDataWrite:JSON.stringify(n,null,2),loadingW:!1,loadingR:!0});case 16:case"end":return e.stop()}},e)})),a.butInvoke_doBid_click=Object(I.a)(j.a.mark(function e(){var t,n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={scriptHash:a.props.store.scriptHash.nns_auction,operation:"raise",arguments:[{type:"Address",value:a.props.store.address},{type:"ByteArray",value:a.state.auctionStateInfo.id},{type:"Integer",value:(a.state.inputAmount*Math.pow(10,8)).toString()}],fee:"0",description:"NNS\u7ade\u62cd\u52a0\u4ef7",network:a.props.store.network},console.log(t),a.setState({loadingW:!0}),e.next=5,Teemo.NEO.invoke(JSON.parse(JSON.stringify(t)));case 5:n=e.sent,a.props.store.addTxidSended(n.txid),a.setState({reqDataWrite:JSON.stringify(t,null,2),resDataWrite:JSON.stringify(n,null,2),loadingW:!1,loadingR:!0});case 8:case"end":return e.stop()}},e)})),a.butInvoke_doBidSettlementAndCollect_click=Object(I.a)(j.a.mark(function e(){var t,n,r,s;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={scriptHash:a.props.store.scriptHash.nns_auction,operation:"bidSettlement",arguments:[{type:"Address",value:a.props.store.address},{type:"ByteArray",value:a.state.auctionStateInfo.id}],fee:"0",description:"NNS\u7ade\u62cd\u57df\u540d\u9886\u53d6",network:a.props.store.network},n={scriptHash:a.props.store.scriptHash.nns_auction,operation:"collectDomain",arguments:[{type:"Address",value:a.props.store.address},{type:"ByteArray",value:a.state.auctionStateInfo.id}],fee:"0",description:"NNS\u7ade\u62cd\u57df\u540d\u9886\u53d6",network:a.props.store.network},(r={merge:!1,group:[{}]}).group.pop(),r.group.push(t),r.group.push(n),a.setState({loadingW:!0}),e.next=9,Teemo.NEO.invokeGroup(JSON.parse(JSON.stringify(r)));case 9:(s=e.sent).forEach(function(e){a.props.store.addTxidSended(e.txid)}),a.setState({reqDataWrite:JSON.stringify(r,null,2),resDataWrite:JSON.stringify(s,null,2),loadingW:!1,loadingR:!0});case 12:case"end":return e.stop()}},e)})),a.butInvoke_doRenew_click=Object(I.a)(j.a.mark(function e(){var t,n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a.props.store.scriptHash.nns_auction,e.t1={type:"Address",value:a.props.store.address},e.next=4,new le(a.props.store).namehash(a.props.store.nns.split(".")[1]);case 4:return e.t2=e.sent,e.t3={type:"ByteArray",value:e.t2},e.t4={type:"String",value:a.props.store.nns.split(".")[0]},e.t5=[e.t1,e.t3,e.t4],e.t6=a.props.store.network,t={scriptHash:e.t0,operation:"renewDomain",arguments:e.t5,fee:"0",description:"NNS\u57df\u540d\u7eed\u671f",network:e.t6},console.log(t),a.setState({loadingW:!0}),e.next=14,Teemo.NEO.invoke(JSON.parse(JSON.stringify(t)));case 14:n=e.sent,a.props.store.addTxidSended(n.txid),a.setState({reqDataWrite:JSON.stringify(t,null,2),resDataWrite:JSON.stringify(n,null,2),loadingW:!1,loadingR:!0});case 17:case"end":return e.stop()}},e)})),a.nnsInput=N.a.createRef(),a}return Object(P.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval(Object(I.a)(j.a.mark(function t(){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.calcAuctionDay(e.state.auctionStateInfo.startBlockSelling);case 3:t.t1=t.sent,t.t2={auctionDay:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}},t)})),1e3),this.getInvokeRead_getBanlance(),window.addEventListener("newBlockEvent",this.doOnEvent,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("newBlockEvent",this.doOnEvent,!1),clearInterval(this.intervalID)}},{key:"CGASopChange",value:function(e){this.setState({CGASopValue:e.target.value})}},{key:"amountChange",value:function(e){this.setState({inputAmount:e})}},{key:"render",value:function(){var e=this;return N.a.createElement(N.a.Fragment,null,N.a.createElement("p",null,"NNS Auction"),N.a.createElement(fe.a,{checked:5==this.props.store.auctionMinPerDay,checkedChildren:"*.test",unCheckedChildren:"*.neo",defaultChecked:!0,onChange:function(){var t=Object(I.a)(j.a.mark(function t(a){var n;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),a?(e.props.store.updateAuctionMinPerDay(5),n=e.props.store.nns.replace(".neo",".test"),e.props.store.updateNNS(n),e.nnsInput.current.state.value=n):(e.props.store.updateAuctionMinPerDay(1440),n=e.props.store.nns.replace(".test",".neo"),e.props.store.updateNNS(n),e.nnsInput.current.state.value=n),t.t0=e,t.t1={id:"",auctionStarter:"",parenthash:"",domain:"",domainTTL:"",startBlockSelling:0,endBlock:"",maxPrice:"",maxBuyer:"",lastBlock:""},t.next=6,e.calcAuctionDay(0);case 6:t.t2=t.sent,t.t3={CGASBalance:0,auctionBalance:0,bidBalance:0,auctionStateInfo:t.t1,auctionDay:t.t2,resDataRead:"{}"},t.t0.setState.call(t.t0,t.t3),e.getInvokeRead_getBanlance();case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}),"\u9009\u62e9\u6839\u57df(\u6d41\u901f",this.props.store.auctionMinPerDay,"\u5206\u949f\u6bcf\u5929)",N.a.createElement(ge.a,null),N.a.createElement(ve.a,{gutter:16},N.a.createElement(ke.a,{span:8},N.a.createElement(X.a,{tip:"\u7b49\u5f85\u5171\u8bc6\u4e2d",spinning:this.state.loadingR},N.a.createElement(be.a,{title:"\u94b1\u5305\u8d26\u6237",value:this.state.CGASBalance,suffix:"CGAS",prefix:N.a.createElement(U.a,{type:"money-collect"})}))),N.a.createElement(ke.a,{span:8},N.a.createElement(ve.a,{gutter:16},N.a.createElement(ke.a,{span:8},N.a.createElement(de.a,{onClick:this.butInvoke_doCGASout_click},N.a.createElement(U.a,{type:"left"}),"\u63d0\u53d6")),N.a.createElement(ke.a,{span:8},N.a.createElement(pe.a,{placeholder:"\u8f93\u5165\u91d1\u989d",onChange:this.CGASopChange.bind(this),defaultValue:this.state.CGASopValue.toString()})),N.a.createElement(ke.a,{span:8},N.a.createElement(de.a,{onClick:this.butInvoke_doCGASin_click},"\u5145\u503c",N.a.createElement(U.a,{type:"right"}))))),N.a.createElement(ke.a,{span:8},N.a.createElement(X.a,{tip:"\u7b49\u5f85\u5171\u8bc6\u4e2d",spinning:this.state.loadingR},N.a.createElement(be.a,{title:"\u5408\u7ea6\u8d26\u6237",value:this.state.auctionBalance,suffix:"CGAS",prefix:N.a.createElement(U.a,{type:"money-collect"})})))),N.a.createElement(pe.a,{placeholder:"\u8f93\u5165\u5730\u5740",onChange:function(t){e.props.store.updateAddress(t.target.value)},defaultValue:this.props.store.address}),N.a.createElement(pe.a,{ref:this.nnsInput,placeholder:"\u8f93\u5165NSS\u57df\u540d",onChange:function(t){e.props.store.updateNNS(t.target.value)},defaultValue:this.props.store.nns}),N.a.createElement(de.a,{onClick:this.butGetInvokeReadClick,type:"primary"},"\u5237\u65b0\u6570\u636e"),N.a.createElement(ge.a,{type:"vertical"}),N.a.createElement(de.a,{onClick:this.butInvoke_doStartAuction_click},"\u5f00\u6807"),N.a.createElement(ge.a,{type:"vertical"}),N.a.createElement(ye.a,{min:0,max:this.state.auctionBalance,step:.1,onChange:this.amountChange.bind(this)}),"=>",N.a.createElement(de.a,{onClick:this.butInvoke_doBid_click},"\u52a0\u4ef7"),N.a.createElement(ge.a,{type:"vertical"}),N.a.createElement(de.a,{onClick:this.butInvoke_doBidSettlementAndCollect_click},"\u7ed3\u7b97\u4e0e\u9886\u53d6"),N.a.createElement(ge.a,{type:"vertical"}),N.a.createElement(de.a,{onClick:this.butInvoke_doRenew_click,disabled:!(this.state.auctionDay>275)},"\u7eed\u671f",(this.state.auctionDay-275).toFixed(2)),N.a.createElement(ge.a,null),N.a.createElement(X.a,{tip:"\u7b49\u5f85\u5171\u8bc6\u4e2d",spinning:this.state.loadingR},N.a.createElement(ve.a,{type:"flex",align:"middle",gutter:16},N.a.createElement(ke.a,{span:3},N.a.createElement(be.a,{title:"\u5f00\u62cd\u5929\u6570",value:this.state.auctionDay.toFixed(2),suffix:"\u5929",prefix:N.a.createElement(U.a,{type:"clock-circle"})})),N.a.createElement(ke.a,{span:8},N.a.createElement(fe.a,{checked:this.state.drawerVisible,onChange:function(){e.setState({drawerVisible:!e.state.drawerVisible})}}),"\u663e\u793a\u65f6\u95f4\u8f74"),N.a.createElement(ke.a,{span:13},N.a.createElement(be.a,{title:"\u52a0\u4ef7\u603b\u6570",value:this.state.bidBalance,suffix:"CGAS",prefix:N.a.createElement(U.a,{type:"money-collect"})}))),N.a.createElement(Se.a,{title:"\u7ade\u62cd\u9636\u6bb5",placement:"left",closable:!1,onClose:function(){e.setState({drawerVisible:!1})},visible:this.state.drawerVisible},N.a.createElement(we.a,null,N.a.createElement(we.a.Item,{color:this.state.auctionDay>0?"green":"blue"},"\u786e\u5b9a\u671f\uff081-2\uff09"),N.a.createElement(we.a.Item,{color:this.state.auctionDay>2?"green":"blue"},"\u786e\u5b9a\u671f\uff083\uff09"),N.a.createElement(we.a.Item,{color:this.state.auctionDay>3?"green":"blue"},"\u968f\u673a\u671f\uff084-5\uff09"),N.a.createElement(we.a.Item,{color:this.state.auctionDay>5?"green":"blue"},"\u7ade\u62cd\u7ed3\u675f\uff085\uff09"),N.a.createElement(we.a.Item,{color:this.state.auctionDay>275?"green":"blue"},"\u7eed\u671f\u671f\uff08365-90\uff09"),N.a.createElement(we.a.Item,{color:this.state.auctionDay>365?"green":"blue"},"\u5230\u671f\uff08365\uff09"))),N.a.createElement("pre",null,this.state.resDataRead)),N.a.createElement(X.a,{tip:"\u8bf7\u6c42\u4e2d",spinning:this.state.loadingW},N.a.createElement("pre",null,this.state.resDataWrite)))}}]),t}(N.a.Component))||se)||se,Ee=Object(D.b)("store")(oe=Object(D.c)(oe=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(G.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={resDataRead:"{}",reqDataWrite:"{}",resDataWrite:"{}",loadingR:!1,loadingW:!1},a.doOnEvent=function(e){console.log("newBlockEvent",e),e.detail.txidIndex>-1&&a.getInvokeRead()},a.getInvokeRead=Object(I.a)(j.a.mark(function e(){var t,n,r,s;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t={scriptHash:a.props.store.scriptHash.nns_credit,operation:"getCreditInfo",arguments:[{type:"Address",value:""}],network:a.props.store.network}).arguments[0].value=a.props.store.address,console.log(JSON.stringify(t,null,2)),e.next=5,Teemo.NEO.invokeRead(JSON.parse(JSON.stringify(t)));case 5:null!=(n=e.sent).stack[0]?(r=n.stack[0].value,(s={namehash:r[0].value,fullDomainName:r[1].value,TTL:r[2].value}).fullDomainName=ce.hexToString(s.fullDomainName),s.TTL=ce.hex2TimeStr(s.TTL),a.setState({resDataRead:JSON.stringify(s,null,2),loadingR:!1})):a.setState({resDataRead:"\u4ece\u672a\u6620\u5c04",loadingR:!1});case 7:case"end":return e.stop()}},e)})),a.butGetInvokeReadClick=function(){var e=Object(I.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.getInvokeRead();case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.butInvokeCreditAuthenticateClick=function(){var e=Object(I.a)(j.a.mark(function e(t){var n,r,s,o,i,c,l,u;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for((n={scriptHash:a.props.store.scriptHash.nns_credit,operation:"authenticate",arguments:[{type:"Address",value:""},{type:"Array",value:[]}],fee:"0",description:"NNS\u53cd\u5411\u89e3\u6790\u7ed1\u5b9a",network:a.props.store.network}).arguments[0].value=a.props.store.address,n.arguments[1].value=[],r=!0,s=!1,o=void 0,e.prev=6,i=a.props.store.nns.split(".").reverse()[Symbol.iterator]();!(r=(c=i.next()).done);r=!0)l=c.value,n.arguments[1].value.push({type:"String",value:l});e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),s=!0,o=e.t0;case 14:e.prev=14,e.prev=15,r||null==i.return||i.return();case 17:if(e.prev=17,!s){e.next=20;break}throw o;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return a.setState({loadingW:!0}),console.log(JSON.stringify(n,null,2)),e.next=26,Teemo.NEO.invoke(JSON.parse(JSON.stringify(n)));case 26:u=e.sent,a.props.store.addTxidSended(u.txid),a.setState({reqDataWrite:JSON.stringify(n,null,2),resDataWrite:JSON.stringify(u,null,2),loadingW:!1,loadingR:!0});case 29:case"end":return e.stop()}},e,null,[[6,10,14,22],[15,,17,21]])}));return function(t){return e.apply(this,arguments)}}(),a.butInvokeCreditRevokeClick=function(){var e=Object(I.a)(j.a.mark(function e(t){var n,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n={scriptHash:a.props.store.scriptHash.nns_credit,operation:"revoke",arguments:[{type:"Address",value:""}],fee:"0",description:"NNS\u53cd\u5411\u89e3\u6790\u89e3\u7ed1",network:a.props.store.network}).arguments[0].value=a.props.store.address,a.setState({loadingW:!0}),e.next=5,Teemo.NEO.invoke(JSON.parse(JSON.stringify(n)));case 5:r=e.sent,a.props.store.addTxidSended(r.txid),a.setState({reqDataWrite:JSON.stringify(n,null,2),resDataWrite:JSON.stringify(r,null,2),loadingW:!1,loadingR:!0});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(P.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("newBlockEvent",this.doOnEvent,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("newBlockEvent",this.doOnEvent,!1)}},{key:"render",value:function(){var e=this;return N.a.createElement(N.a.Fragment,null,N.a.createElement("p",null,"NNS Credit"),N.a.createElement(pe.a,{placeholder:"\u8f93\u5165\u5730\u5740",onChange:function(t){e.props.store.updateAddress(t.target.value)},defaultValue:this.props.store.address}),N.a.createElement(pe.a,{placeholder:"\u8f93\u5165NSS\u57df\u540d",onChange:function(t){e.props.store.updateNNS(t.target.value)},defaultValue:this.props.store.nns}),N.a.createElement(de.a,{onClick:this.butGetInvokeReadClick,type:"primary"},"\u83b7\u53d6NNS\u53cd\u5411\u89e3\u6790\u4fe1\u606f"),N.a.createElement(de.a,{onClick:this.butInvokeCreditAuthenticateClick},"\u7ed1\u5b9a"),N.a.createElement(de.a,{onClick:this.butInvokeCreditRevokeClick},"\u89e3\u7ed1"),N.a.createElement(X.a,{tip:"\u7b49\u5f85\u5171\u8bc6\u4e2d",spinning:this.state.loadingR},N.a.createElement("pre",null,this.state.resDataRead)),N.a.createElement(X.a,{tip:"\u8bf7\u6c42\u4e2d",spinning:this.state.loadingW},N.a.createElement("pre",null,this.state.resDataWrite)))}}]),t}(N.a.Component))||oe)||oe,Ne=Object(D.b)("store")(ie=Object(D.c)(ie=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(G.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={NFTscripthash:"",resData:"{}",name:"",symbol:"",supportedStandards:"",totalSupply:0,tokens:[{tokenID:0,allowance:"",ownerOf:"",properties:"",rwProperties:"",token:"",uri:""}]},a.getNFTinfos=Object(I.a)(j.a.mark(function e(){var t,n,r,s,o,i,c;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={scriptHash:a.state.NFTscripthash,operation:"",arguments:[],network:a.props.store.network},(n={group:[{}]}).group.pop(),["name","symbol","supportedStandards","totalSupply"].forEach(function(e){t.operation=e,n.group.push(JSON.parse(JSON.stringify(t)))}),console.log(JSON.stringify(n,null,2)),e.next=8,Teemo.NEO.invokeReadGroup(JSON.parse(JSON.stringify(n)));case 8:r=e.sent,0==(s=a.state.tokens)[0].tokenID&&s.shift(),o=parseInt("0x"+r.stack[3].value),i=1;case 13:if(!(i<=o)){e.next=23;break}return e.next=16,a.getTokenInfo(i);case 16:if(c=e.sent,s.push(c),!(i>=30)){e.next=20;break}return e.abrupt("break",23);case 20:i++,e.next=13;break;case 23:a.setState({name:ce.hexToString(r.stack[0].value),symbol:ce.hexToString(r.stack[1].value),supportedStandards:ce.hexToString(r.stack[2].value),totalSupply:parseInt("0x"+r.stack[3].value),tokens:s});case 24:case"end":return e.stop()}},e)})),a.getTokenInfo=function(){var e=Object(I.a)(j.a.mark(function e(t){var n,r,s;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={scriptHash:a.state.NFTscripthash,operation:"",arguments:[{type:"Integer",value:t}],network:a.props.store.network},(r={group:[{}]}).group.pop(),["allowance","ownerOf","properties","rwProperties","token","uri"].forEach(function(e){n.operation=e,r.group.push(JSON.parse(JSON.stringify(n)))}),e.next=7,Teemo.NEO.invokeReadGroup(JSON.parse(JSON.stringify(r)));case 7:return s=e.sent,e.t0=t,e.t1=s.stack[0].value,e.next=12,Teemo.NEO.getAddressFromScriptHash(ce.hexReverse(s.stack[1].value));case 12:return e.t2=e.sent,e.t3=ce.hexToString(s.stack[2].value),e.t4=ce.hexToString(s.stack[3].value),e.t5=s.stack[4].value,e.t6=ce.hexToString(s.stack[5].value),e.abrupt("return",{tokenID:e.t0,allowance:e.t1,ownerOf:e.t2,properties:e.t3,rwProperties:e.t4,token:e.t5,uri:e.t6});case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(P.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.state.NFTscripthash=this.props.store.scriptHash.NFT_test_HashPuppies}},{key:"render",value:function(){return N.a.createElement("div",null,N.a.createElement("p",null,"NFT test-",this.state.NFTscripthash),N.a.createElement(de.a,{onClick:this.getNFTinfos},"\u5237\u65b0\u6570\u636e"),N.a.createElement("pre",null,this.state.resData),N.a.createElement("p",null,"name:",this.state.name),N.a.createElement("p",null,"symbol:",this.state.symbol),N.a.createElement("p",null,"supportedStandards:",this.state.supportedStandards),N.a.createElement("p",null,"totalSupply:",this.state.totalSupply),N.a.createElement(Z.a,{itemLayout:"vertical",bordered:!0,dataSource:this.state.tokens,pagination:{onChange:function(e){console.log(e)},pageSize:5},renderItem:function(e){return N.a.createElement(Z.a.Item,{key:e.tokenID,extra:N.a.createElement("img",{width:272,alt:"NFT URI",src:e.uri})},N.a.createElement(Z.a.Item.Meta,{avatar:N.a.createElement(ee.a,{src:"https://neo-cdn.azureedge.net/images/favicon.png"}),title:"tokenID: "+e.tokenID,description:"owner: "+e.ownerOf}),N.a.createElement("div",{className:"wrap"},"properties:",e.properties,N.a.createElement("br",null),"rwProperties:",e.rwProperties))}}))}}]),t}(N.a.Component))||ie)||ie,xe=new J;T.a.render(N.a.createElement(D.a,{store:xe},N.a.createElement(L.a,{basename:"/nns"},N.a.createElement($,null,N.a.createElement(Q.a,{path:"/",exact:!0,component:ue}),N.a.createElement(Q.a,{path:"/nnscenter",component:me}),N.a.createElement(Q.a,{path:"/nnsresolver",component:he}),N.a.createElement(Q.a,{path:"/nnsauction",component:Oe}),N.a.createElement(Q.a,{path:"/nnscredit",component:Ee}),N.a.createElement(Q.a,{path:"/nfttest",component:Ne})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[141,1,2]]]);
//# sourceMappingURL=main.5c09fe84.chunk.js.map